local self, info = GInterface.CreateInterfaceProvider ("MoneySystem", "DarkRPMoneySystem")info:SetPriority (-1)info:SetSingleton (true)if SERVER then	if debug.getregistry ().Player.AddMoney then		info:SetPriority (1)	else		hook.Add ("Initialize", "DarkRPMoneySystem", function ()			if debug.getregistry ().Player.AddMoney then				info:SetPriority (1)			end		end)	endelseif CLIENT then	if LocalPlayer and LocalPlayer () and LocalPlayer ():IsValid () and LocalPlayer ().DarkRPVars then		info:SetPriority (1)	else		hook.Add ("Initialize", "DarkRPMoneySystem", function ()			timer.Simple (1, function ()				if LocalPlayer ().DarkRPVars then					info:SetPriority (1)				end			end)		end)	endendfunction self:ctor ()	if CLIENT then		local ownMoney = 0		self:GetPlayerMoney (LocalPlayer ():SteamID (), function (steamID, money)			ownMoney = money			timer.Create ("DarkRPMoneySystem", 1, 0, function ()				self:GetPlayerMoney (LocalPlayer ():SteamID (), function (steamID, money)					if ownMoney ~= money then						self:DispatchEvent ("PlayerMoneyChanged", steamID, money)						ownMoney = money					end				end)			end)		end)	endendfunction self:AddPlayerMoney (steamID, deltamoney)	GInterface.CreateInterface ("Clients"):GetClientBySteamID (steamID):GetPlayer ():AddMoney (deltamoney)endfunction self:CanPlayerAfford (steamID, money, callback)	if CLIENT and game.SinglePlayer () and steamID == "STEAM_0:0:0" then		steamID = LocalPlayer ():SteamID ()	end	callback (steamID, GInterface.CreateInterface ("Clients"):GetClientBySteamID (steamID):GetPlayer ().DarkRPVars.money >= money)endfunction self:GetPlayerMoney (steamID, callback)	if CLIENT and game.SinglePlayer () and steamID == "STEAM_0:0:0" then		steamID = LocalPlayer ():SteamID ()	end	callback (steamID, GInterface.CreateInterface ("Clients"):GetClientBySteamID (steamID):GetPlayer ().DarkRPVars.money)endfunction self:RemovePlayerMoney (steamID, deltamoney)	GInterface.CreateInterface ("Clients"):GetClientBySteamID (steamID):GetPlayer ():AddMoney (-deltamoney)endfunction self:SetPlayerMoney (steamID, money)	DB.StoreMoney (GInterface.CreateInterface ("Clients"):GetClientBySteamID (steamID):GetPlayer (), money)end